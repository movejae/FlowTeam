<!DOCTYPE html>
<html xmlns:th="http://www.thymeleaf.org" lang="ko">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>파일 확장자 차단</title>
    <link rel="icon" type="image/x-icon" th:href="@{/favicon.ico}">
    <link rel="stylesheet" th:href="@{/css/style.css}">
    <script th:src="@{/js/toast.js}"></script>
    <script th:src="@{/js/main.js}"></script>
    <!--From ExtensionConstant.java-->
    <script th:inline="javascript">
        const EXTENSION_NAME_MAX_LENGTH = [[${extensionNameMaxLength}]];
        const EXTENSION_MAX_COUNT = [[${extensionMaxCount}]];
    </script>
</head>
<body>
    <!-- 토스트 메시지 컨테이너 -->
    <div id="toast" class="toast"></div>

    <div class="container">
        <div class="header">
            <h1>
                <img th:src="@{/logo.png}" alt="Flow Logo" class="logo">
                파일 확장자 차단
            </h1>
            <p class="subtitle">파일확장자에 따라 특정 형식의 파일을 첨부하거나 전송하지 못하도록 제한 합니다.</p>
        </div>

        <!-- 고정 확장자 -->
        <div class="section">
            <div class="section-title">
                <span class="section-number">1</span>
                고정 확장자
            </div>
            <div class="checkbox-group" id="fixedExtensions">
                <!-- JavaScript로 동적 로딩 -->
            </div>
        </div>

        <!-- 커스텀 확장자 -->
        <div class="section">
            <div class="section-title">
                <span class="section-number">2</span>
                커스텀 확장자
            </div>

            <!-- 입력 영역 -->
            <div class="input-group">
                <input type="text"
                       id="extensionInput"
                       placeholder="확장자 입력"
                       th:attr="maxlength=${extensionNameMaxLength}">
                <button class="btn-add" onclick="addExtension()">+추가</button>
            </div>
            <div class="error-message" id="errorMessage"></div>

            <!-- 확장자 목록 표시 -->
            <div class="extensions-box">
                <div class="extensions-count">
                    <span id="currentCount">0</span>/<span th:text="${extensionMaxCount}">loading form server</span>
                </div>
                <div class="extensions-list" id="extensionsList">
                    <!-- JavaScript로 동적 로딩 -->
                </div>
                <div class="empty-message" id="emptyMessage">
                    추가된 확장자가 없습니다
                </div>
            </div>
        </div>
    </div>

</body>
</html>
